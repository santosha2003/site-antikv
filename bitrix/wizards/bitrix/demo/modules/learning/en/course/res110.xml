<?xml version="1.0" encoding="windows-1251"?>
<content type="LES"><id>399</id>
<timestamp_x>1162482875</timestamp_x>
<date_create>1153820331</date_create>
<created_by>1837</created_by>
<active>Y</active>
<course_id>10</course_id>
<chapter_id>149</chapter_id>
<name>Using access permission control</name>
<sort>100</sort>
<preview_picture></preview_picture>
<preview_text></preview_text>
<preview_text_type>text</preview_text_type>
<detail_picture></detail_picture>
<detail_text><![CDATA[<p>The used in the system mechanism of controlling users access permissions can be utilized in the following purposes:</p>

<ul>
  <li><b>for menu items show managing</b>: 
    <p>Editing menu in the <i>advanced</i> mode you can use a condition with the type <b>For user group</b> to manage menu items show:</p>
  
    <p><img src="cid:resources/res110/LKh9M.e8Wrm.menu_cond.png" height="302" width="450"/></p>
  </li>

  <li><b>for menu template managing</b>: 
    <p>The level of user access permissions can impact menu structure, set of used in menu elements or images, and etc. An example of access permissions verification that can be used for menu template is given below. </p>
  
    <p></p>
  
    <pre class="SYNTAX">&lt;?
&hellip;
   if ($PERMISSION &gt; &quot;D&quot;)
{
 $sMenuBody = '&lt;tr&gt;&lt;td colspan=2 background=&quot;/bitrix/templates/demo/images/l_menu_border.gif&quot;&gt;
&lt;img src=&quot;/bitrix/templates/demo/images/1.gif&quot; width=&quot;1&quot; height=&quot;1&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;'.$strDir.'
&lt;td valign=&quot;top&quot;'.$strstyle.' width=&quot;100%&quot;&gt;&lt;a href=&quot;'.$LINK.'&quot; class=&quot;'.$strtext.'&quot;&gt;'.$TEXT.'
&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;';
}
else
{
 $sMenuBody = '&lt;td colspan=2 background=&quot;/bitrix/templates/demo/images/l_menu_border.gif&quot;&gt;
&lt;img src=&quot;/bitrix/templates/demo/images/1.gif&quot; width=&quot;1&quot; height=&quot;1&quot;&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;'.$strDir_d.'&lt;/td&gt;&lt;td valign=&quot;top&quot;'.$strstyle.' width=&quot;100%&quot;&gt;
&lt;a href=&quot;'.$LINK.'&quot; class='.$strtext.'&gt;'.$TEXT.'&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;';

}
?&gt;</pre>
  
    <p>
  

  
    <div class="important"><b>Important!</b> Conditions implying monitoring of the variable <code>$PERMISSION</code> value can be utilized only for menu templates.</div></p>
  </li>

  <li><b>for site template managing</b>: 
    <p>User access permissions can be used for defining conditions in which a site template will be applied to the site pages. For example:</p>
  
    <p><img src="cid:resources/res110/VDk0B.KEcSY.templ_cond_ex.png" height="195" width="450"/></p>
  
    <p>In the given example the&nbsp;<strong>Corporative template&nbsp;1</strong>&nbsp;will be applied to site pages if the current user belongs to the group <b>Administrators</b> or <b>Partners</b>.</p>
  Examples of php-conditions: 
    <p>
      <table cellspacing="0" cellpadding="0" border="0">
        <tbody>
          <tr><td bgcolor="#000000">
              <table cellspacing="1" cellpadding="3" border="0">
                <tbody>
                  <tr><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff"><code>$USER-&gt;IsAuthorized()</code></td><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff">Checks, if the current user is authorized.</td></tr>
                
                  <tr><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff"><code>$USER-&gt;IsAdmin()</code></td><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff">Checks, if the current user is the system administrator.</td></tr>
                
                  <tr><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff"><code>in_array('5',$USER-&gt; GetUserGroupArray())</code></td><td style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" bgcolor="#ffffff">Checks, if the current user belongs to the specified group (in this case it must be group with ID=5).</td></tr>
                </tbody>
              </table>
            </td></tr>
        </tbody>
      </table>
    </p>
  </li>

  <li><b>for site template elements managing</b>: 
    <p>Using of the mechanism of user permissions control allows to manage site template elements showing, shapes, colors and other attributes.</p>
  </li>

  <li><b>for site elements managing</b>: 
    <p>Using of the mechanism of user permissions control allows to organize managing the site elements (e.g., pages, sections, forums, and etc.) by different users. </p>
  </li>
</ul>
]]></detail_text>
<detail_text_type>html</detail_text_type>
</content>