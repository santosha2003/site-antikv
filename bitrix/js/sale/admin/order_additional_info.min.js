BX.namespace("BX.Sale.Admin.OrderAdditionalInfo");BX.Sale.Admin.OrderAdditionalInfo={choosePerson:function(e,n){window.open("/bitrix/admin/user_search.php?lang="+n+"&FN="+e+"&FC=RESPONSIBLE_ID","","scrollbars=yes,resizable=yes,width=840,height=500,top="+Math.floor((screen.height-560)/2-14)+",left="+Math.floor((screen.width-840)/2-5))},changePerson:function(){var e=BX("order_additional_info_responsible"),n=BX("RESPONSIBLE_ID").value;if(e)e.href="/bitrix/admin/user_edit.php?lang="+BX.lang+"&ID="+n;var i={action:"changeResponsibleUser",user_id:n,callback:function(e){BX.Sale.Admin.OrderAdditionalInfo.setResponsible(e.RESPONSIBLE);BX.Sale.Admin.OrderAdditionalInfo.setEmpResponsible(e.EMP_RESPONSIBLE);BX.Sale.Admin.OrderAdditionalInfo.setDateResponsible(e.DATE_RESPONSIBLE)}};BX.Sale.Admin.OrderAjaxer.sendRequest(i)},setResponsible:function(e){var n=BX("order_additional_info_responsible"),i=!!e[0]?e[0]:"",o=!!e[1]?e[1]:"";if(n)BX.html(n,o+" "+i)},setEmpResponsible:function(e){var n=BX("order_additional_info_emp_responsible");var i=!!e[0]?e[0]:"";var o=!!e[1]?e[1]:"";if(n)BX.html(n,o+" "+i)},setDateResponsible:function(e){var n=BX("order_additional_info_date_responsible");if(n)BX.html(n,e)},showCommentsDialog:function(e,n){var i=n.innerHTML,o=new BX.CDialog({content:'<textarea style="width:710px;height:260px;" name="COMMENTS" id="COMMENTS">'+i+"</textarea>",title:BX.message("SALE_ORDER_ADDITIONAL_INFO_COMMENT_EDIT"),width:750,height:300,resizable:true});o.ClearButtons();o.SetButtons([{title:BX.message("SALE_ORDER_ADDITIONAL_INFO_COMMENT_SAVE"),action:function(){var o=BX("COMMENTS");if(o)i=o.value;else if(i==BX.message("SALE_ORDER_ADDITIONAL_INFO_NO_COMMENT"))i="";BX.Sale.Admin.OrderAdditionalInfo.saveComment(i,e,n);this.parentWindow.Close()}},BX.CDialog.prototype.btnCancel]);BX.addCustomEvent(o,"onWindowClose",function(e){e.DIV.parentNode.removeChild(e.DIV)});o.Show()},saveComment:function(e,n,i){BX.Sale.Admin.OrderAjaxer.sendRequest({action:"saveComments",comments:e,orderId:n,callback:function(e){if(e&&typeof e.COMMENTS!=="undefined"&&i)i.innerHTML=e.COMMENTS}})}};
//# sourceMappingURL=order_additional_info.map.js