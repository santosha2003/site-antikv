{"version":3,"file":"pull.min.js","sources":["pull.js"],"names":["window","BX","console","log","PULL","_revision","_updateStateVeryFastCount","_updateStateFastCount","_updateStateStep","_updateStateTimeout","_updateStateStatusTimeout","_updateStateSend","_pullTryAfterBxLink","_pullTryConnect","_pullPath","_pullMethod","_pullWithHeaders","_pullTimeConfig","_pullTimeConfigShared","_pullTimeConst","Date","toUTCString","_pullTime","_pullTag","_pullTimeout","_pullMid","_watchTag","_watchTimeout","_channelID","_channelClearReason","_channelClear","_channelLastID","_channelStack","_WS","_wsPath","_wsSupport","_wsConnected","_wsTryReconnect","_wsError1006Count","_mobileMode","_lsSupport","_escStatus","_sendAjaxTry","_confirm","_beforeUnload","_pathToAjax","_onBeforeUnload","proxy","close","returnPrivateVar","tryConnectDelay","this","start","params","MOBILE","LOCAL_STORAGE","HEADERS","localStorage","get","WEBSOCKET","_userId","message","USER_ID","bind","tryConnect","updateState","browser","IsFirefox","event","keyCode","supportWebSocket","PATH_COMMAND","setAjaxPath","CHANNEL_ID","getModernPath","PATH_WS","METHOD","CHANNEL_DT","toString","split","parseInt","LAST_ID","SupportLocalStorage","addCustomEvent","storageSet","set","PATH","TIME_LAST_GET","TIME_LAST_GET_SHARED","error","delegate","desktop","initBeforeUnload","onCustomEvent","expireConfig","init","updateWatch","getNowDate","today","currentDate","getFullYear","getMonth","getDate","Math","round","getDateDiff","timestamp","userTzOffset","localTimestamp","incomingTimestamp","setTryAfterBxLink","result","unbind","setTimeout","setPrivateVar","clearTimeout","floor","random","getChannelID","code","withoutCache","send","ajax","url","toUpperCase","method","skipAuthCheck","dataType","lsId","lsTimeout","timeout","data","PULL_GET_CHANNEL","SITE_ID","CACHE","PULL_AJAX_CALL","sessid","bitrix_sessid","onsuccess","ERROR","REVISION","checkRevision","BITRIX_SESSID","tryConnectTimeout","text","JSON","stringify","onfailure","force","length","connectWebSocket","connectPull","wsPath","replace","location","hostname","_wsServer","WebSocket","e","onopen","onclose","reason","parse","neverConnect","sendConnectRequest","wasClean","http_status","onmessage","messageCount","dataArray","match","i","substring","parseJSON","id","channel","time","executeMessages","MESSAGE","SERVER_TIME","SERVER_TIME_WEB","tag","mid","onerror","headersForRequest","name","value","pullPath","_ajax","skipBxHeader","headers","PULL_UPDATE_STATE","CHANNEL_LAST_ID","TAG","MID","TIME","setUpdateStateStep","status","expires","getResponseHeader","lastMessageId","extendWatch","clearWatch","arWatchTag","hasOwnProperty","push","pathname","PULL_UPDATE_WATCH","WATCH","RESULT","pull","module_id","toLowerCase","command","updateChannelID","CHANNEL_DIE","PREV_CHANNEL_ID","tryConnectSet","setUpdateStateStepCount","debug","step","veryFastCount","fastCount","key","indexOf","channelID","lastId","sendAjaxTry","pullTryConnect","getPullServerStatus","capturePullEvent","getDebugInfo","textWT","clearChannelId","IsChrome","IsOpera","IsSafari","navigator","userAgent","substr","appVersion","DetectIeVersion","PATH_MOD","IsIE","getRevision","getDebugInfoArray","connected","websocket","path","revision","openConfirm","v","eval","va","ve","buttons","modal","destroy","PopupWindowButton","className","events","click","popupWindow","PreventDefault","PopupWindow","zIndex","autoHide","closeByEsc","overlay","onPopupClose","onPopupDestroy","content","create","props","html","show","popupContainer","preventDefault","contentContainer","element","closeConfirm","stopPropagation","cancelBubble"],"mappings":"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"}